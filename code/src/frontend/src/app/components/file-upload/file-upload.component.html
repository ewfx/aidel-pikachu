<mat-card class="upload-container">
  
  <mat-card-content>
    <div class="file-input-container">
      <input
        type="file"
        id="fileInput"
        (change)="selectFile($event)"
        hidden
      />
      <label for="fileInput" class="upload-label">
        <mat-icon>cloud_upload</mat-icon>
        <span *ngIf="!fileName">Click or Drag & Drop to Upload</span>
        <span *ngIf="fileName">{{ fileName }}</span>
      </label>
    </div>

    <mat-progress-bar
      *ngIf="progress > 0"
      class="progress-bar"
      color="accent"
      [value]="progress"
    ></mat-progress-bar>

    <div class="button-container">
      <button mat-flat-button color="primary" [disabled]="!currentFile" (click)="upload()">Upload</button>
    </div>
  </mat-card-content>

  <mat-card-footer *ngIf="message" class="message">
    <p>{{ message }}</p>
  </mat-card-footer>
</mat-card>

<div class="analysis-card" *ngIf="generatedAnalysis">
  <mat-card class="analysis-card-item">
    <mat-card-header>
      <mat-card-title>Risk</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="">
        <p>Confidence Score</p>
        <p>{{ generatedAnalysis.Risk.confidence }}</p>
      </div>
      <div class="">
        <p>Confidence Score Interpretation</p>
        <p>{{ generatedAnalysis.Risk.interpretation }}</p>
      </div>
      <p>{{ generatedAnalysis.Risk.Text }}</p>
    </mat-card-content>
  </mat-card>
  
  <mat-card class="analysis-card-item">
    <mat-card-header>
      <mat-card-title>Performance</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="">
        <p>Confidence Score</p>
        <p>{{ generatedAnalysis.Performance.confidence }}</p>
      </div>
      <div class="">
        <p>Confidence Score Interpretation</p>
        <p>{{ generatedAnalysis.Performance.interpretation }}</p>
      </div>
      <p>{{ generatedAnalysis.Performance.Text }}</p>
    </mat-card-content>
  </mat-card>

  <mat-card class="analysis-card-item">
    <mat-card-header>
      <mat-card-title>Loan Table</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="">
        <p>Confidence Score</p>
        <p>{{ generatedAnalysis.LoanTable.confidence }}</p>
      </div>
      <div class="">
        <p>Confidence Score Interpretation</p>
        <p>{{ generatedAnalysis.LoanTable.interpretation }}</p>
      </div>
      <p>{{ generatedAnalysis.LoanTable.Text }}</p>
    </mat-card-content>
  </mat-card>
</div>
